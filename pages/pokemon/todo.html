<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>TODO - Página do Pokémon Squirtle</title>
    <link rel="stylesheet" href="./stylestodo.css" />
</head>

<body>

    <main>
        <header id="todo-header">
            <h2>TODO List</h2>
        </header>
        <section id="todo-main">
            <form id="todo-form">
                <input type="text" id="todo-text" placeholder="Adicionar novo item..." />
                <button type="submit">Adicionar tarefa</button>
            </form>
            <ul id="todo-list"></ul>
        </section>
        <footer id="todo-footer"></footer>
    </main>


    <script>
        function updateVisitCounter() {
            let visitData = localStorage.getItem('visitData');
            if (!visitData) {
                visitData = { count: 0, lastVisit: new Date().toLocaleString() };
            } else {
                visitData = JSON.parse(visitData);
                visitData.count++;
                visitData.lastVisit = new Date().toLocaleString();
            }
            localStorage.setItem('visitData', JSON.stringify(visitData));
        }

        function displayVisitInfo() {
            const visitData = JSON.parse(localStorage.getItem('visitData'));
            if (visitData) {
                const visitInfo = `Esta página foi visitada ${visitData.count} vezes. A última visita foi: ${visitData.lastVisit}`;
                const footer = document.querySelector('footer');
                const p = document.createElement('p');
                p.textContent = visitInfo;
                footer.appendChild(p);
            } else {
                console.log("Nenhuma informação de visita encontrada.");
            }
        }

        document.addEventListener('DOMContentLoaded', function () {
            updateVisitCounter(); // Atualiza o contador de visitas sempre que a página é carregada
            displayVisitInfo();
        });
    </script>
    <script src="../index.js"></script>
    <script src="./todo.js"></script>
</body>

</html>